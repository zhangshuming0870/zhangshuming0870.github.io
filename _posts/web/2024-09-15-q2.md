---
layout: post
title: "Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.
NotFoundError: Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node."
date: 2024-09-15
categories: [前端]
tags: [问题解决]
author: zhangshuming
---


# 进入页面报错

Refused to execute script from 'http://localhost:3000/panoramicMap/bundle.js' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.

## 环境
- nextjs
- react
- typescript

```
Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.
NotFoundError: Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.
    at insertOrAppendPlacementNode (http://localhost:3000/bundle.js:13237:27)
    at commitPlacement (http://localhost:3000/bundle.js:13284:11)
    at runWithFiberInDEV (http://localhost:3000/bundle.js:2375:30)
    at commitReconciliationEffects (http://localhost:3000/bundle.js:14425:11)
    at commitMutationEffectsOnFiber (http://localhost:3000/bundle.js:14203:11)
    at recursivelyTraverseMutationEffects (http://localhost:3000/bundle.js:13978:11)
    at commitMutationEffectsOnFiber (http://localhost:3000/bundle.js:14202:11)
    at recursivelyTraverseMutationEffects (http://localhost:3000/bundle.js:13978:11)
    at commitMutationEffectsOnFiber (http://localhost:3000/bundle.js:13989:11)
    at recursivelyTraverseMutationEffects (http://localhost:3000/bundle.js:13978:11)
    
```
解释原因是这个错误是 React 在尝试插入 DOM 节点时发生的，通常是因为 Three.js 的 renderer.domElement 和 React 的 DOM 操作冲突。