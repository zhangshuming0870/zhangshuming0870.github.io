---
layout: default
title: 3Dæˆ¿é—´ - éŸ©å›½çŸ­å‰§ã€Šé—¹é’Ÿã€‹é£æ ¼
---

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            text-align: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 300;
        }
        
        .controls-info {
            position: fixed;
            top: 80px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            font-size: 14px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .controls-info h3 {
            margin: 0 0 10px 0;
            color: #ffd700;
        }
        
        .controls-info ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .controls-info li {
            margin: 5px 0;
        }
        
        .room-info {
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            font-size: 14px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 300px;
        }
        
        .room-info h3 {
            margin: 0 0 10px 0;
            color: #ffd700;
        }
        
        .room-info p {
            margin: 8px 0;
            line-height: 1.4;
        }
        
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .footer {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            z-index: 1000;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }
        
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            z-index: 1000;
            text-decoration: none;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-2px);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .controls-info, .room-info {
                font-size: 12px;
                padding: 10px;
            }
            
            .header h1 {
                font-size: 20px;
            }
        }
    </style>
</head>

<body>
    <a href="/" class="back-link">â† è¿”å›é¦–é¡µ</a>
    
    <div class="header">
        <h1>ğŸ  éŸ©å›½çŸ­å‰§ã€Šé—¹é’Ÿã€‹é£æ ¼æˆ¿é—´ - 3Då±•ç¤º</h1>
    </div>

    <div class="controls-info">
        <h3>ğŸ® æ§åˆ¶è¯´æ˜</h3>
        <ul>
            <li>ğŸ–±ï¸ é¼ æ ‡å·¦é”®ï¼šæ—‹è½¬è§†è§’</li>
            <li>ğŸ” é¼ æ ‡æ»šè½®ï¼šç¼©æ”¾</li>
            <li>ğŸ“± é¼ æ ‡å³é”®ï¼šå¹³ç§»</li>
            <li>ğŸ”„ è‡ªåŠ¨æ—‹è½¬ï¼šæŒ‰ç©ºæ ¼é”®</li>
        </ul>
    </div>

    <div class="room-info">
        <h3>ğŸ  æˆ¿é—´ç‰¹è‰²</h3>
        <p>âœ¨ æ¸©é¦¨çš„å°æˆ¿é—´å¸ƒå±€</p>
        <p>ğŸ›ï¸ èˆ’é€‚çš„åºŠé“ºå’Œæ•å¤´</p>
        <p>ğŸ’» å­¦ä¹ å·¥ä½œåŒºåŸŸ</p>
        <p>ğŸ“š ä¹¦æ¶å’Œè£…é¥°å“</p>
        <p>ğŸŒ± ç»¿è‰²æ¤ç‰©ç‚¹ç¼€</p>
        <p>â° åŠ¨æ€é—¹é’Ÿæ˜¾ç¤º</p>
        <p>ğŸ“± æ‰‹æœºé€šçŸ¥é—ªçƒ</p>
        <p>ğŸ’¡ æ¸©æš–çš„å°ç¯å…‰ç…§</p>
    </div>

    <div class="loading" id="loading">
        ğŸš€ æ­£åœ¨åŠ è½½3Dæˆ¿é—´...
    </div>

    <div class="footer">
        <p>ğŸ¬ çµæ„Ÿæ¥æºï¼šéŸ©å›½çŸ­å‰§ã€Šé—¹é’Ÿã€‹ | æŠ€æœ¯ï¼šThree.js 3Dæ¸²æŸ“</p>
    </div>

    <script>
        // åŠ¨æ€åŠ è½½Three.jsåº“
        function loadThreeJS() {
            return new Promise((resolve, reject) => {
                // æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½
                if (typeof THREE !== 'undefined') {
                    resolve();
                    return;
                }
                
                console.log('æ­£åœ¨åŠ¨æ€åŠ è½½Three.jsåº“...');
                
                // åˆ›å»ºscriptæ ‡ç­¾åŠ è½½Three.js
                const threeScript = document.createElement('script');
                threeScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.178.0/three.min.js';
                
                threeScript.onload = function() {
                    console.log('Three.jsåŠ è½½æˆåŠŸ');
                    resolve();
                };
                
                threeScript.onerror = function() {
                    console.error('Three.jsåŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN');
                    // å°è¯•å¤‡ç”¨CDN
                    const backupScript = document.createElement('script');
                    backupScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.178.0/three.min.js';
                    
                    backupScript.onload = function() {
                        console.log('å¤‡ç”¨CDNåŠ è½½æˆåŠŸ');
                        resolve();
                    };
                    
                    backupScript.onerror = function() {
                        reject(new Error('æ‰€æœ‰CDNéƒ½åŠ è½½å¤±è´¥'));
                    };
                    
                    document.head.appendChild(backupScript);
                };
                
                document.head.appendChild(threeScript);
            });
        }
        
        // åŠ¨æ€åŠ è½½OrbitControls
        function loadOrbitControls() {
            return new Promise((resolve, reject) => {
                if (typeof THREE.OrbitControls !== 'undefined') {
                    resolve();
                    return;
                }
                
                const orbitScript = document.createElement('script');
                orbitScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.178.0/OrbitControls.js';
                
                orbitScript.onload = function() {
                    console.log('OrbitControlsåŠ è½½æˆåŠŸ');
                    resolve();
                };
                
                orbitScript.onerror = function() {
                    console.warn('OrbitControlsåŠ è½½å¤±è´¥ï¼Œå°†ä½¿ç”¨åŸºç¡€æ§åˆ¶');
                    resolve(); // ä¸é˜»æ­¢ç»§ç»­
                };
                
                document.head.appendChild(orbitScript);
            });
        }
        
        // 3Dæˆ¿é—´åœºæ™¯ä»£ç 
        let scene, camera, renderer, controls;
        let room, bed, desk, wardrobe, windowFrame, chair, lamp, bookshelf;
        
        // åˆå§‹åŒ–åœºæ™¯
        function init() {
            // åˆ›å»ºåœºæ™¯
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xf0f0f0);
            
            // åˆ›å»ºç›¸æœº
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(5, 3, 5);
            
            // åˆ›å»ºæ¸²æŸ“å™¨
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.body.appendChild(renderer.domElement);
            
            // æ·»åŠ è½¨é“æ§åˆ¶å™¨
            if (typeof THREE.OrbitControls !== 'undefined') {
                controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.dampingFactor = 0.05;
                controls.autoRotate = false;
                controls.autoRotateSpeed = 1.0;
            } else {
                console.warn('OrbitControls æœªåŠ è½½ï¼Œå°†ä½¿ç”¨åŸºç¡€ç›¸æœºæ§åˆ¶');
            }
            
            // åˆ›å»ºæˆ¿é—´
            createRoom();
            
            // åˆ›å»ºå®¶å…·
            createFurniture();
            
            // åˆ›å»ºå…‰ç…§
            createLighting();
            
            // æ·»åŠ è£…é¥°å“
            createDecorations();
            
            // å¼€å§‹åŠ¨ç”»å¾ªç¯
            animate();
            
            // éšè—åŠ è½½æç¤º
            const loading = document.getElementById('loading');
            if (loading) {
                loading.style.opacity = '0';
                loading.style.transition = 'opacity 0.5s';
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 500);
            }
        }
        
        // åˆ›å»ºæˆ¿é—´ç»“æ„
        function createRoom() {
            const roomGroup = new THREE.Group();
            
            // æˆ¿é—´å°ºå¯¸
            const roomWidth = 8;
            const roomHeight = 3;
            const roomDepth = 6;
            
            // æè´¨
            const wallMaterial = new THREE.MeshLambertMaterial({ color: 0xf5f5f5 });
            const floorMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const ceilingMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            
            // åœ°æ¿
            const floorGeometry = new THREE.PlaneGeometry(roomWidth, roomDepth);
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            roomGroup.add(floor);
            
            // å¤©èŠ±æ¿
            const ceilingGeometry = new THREE.PlaneGeometry(roomWidth, roomDepth);
            const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);
            ceiling.position.y = roomHeight;
            ceiling.rotation.x = Math.PI / 2;
            roomGroup.add(ceiling);
            
            // å¢™å£
            const wallGeometry = new THREE.PlaneGeometry(roomWidth, roomHeight);
            
            // åå¢™
            const backWall = new THREE.Mesh(wallGeometry, wallMaterial);
            backWall.position.set(0, roomHeight/2, -roomDepth/2);
            roomGroup.add(backWall);
            
            // å·¦å¢™
            const leftWallGeometry = new THREE.PlaneGeometry(roomDepth, roomHeight);
            const leftWall = new THREE.Mesh(leftWallGeometry, wallMaterial);
            leftWall.position.set(-roomWidth/2, roomHeight/2, 0);
            leftWall.rotation.y = Math.PI / 2;
            roomGroup.add(leftWall);
            
            // å³å¢™ï¼ˆå¸¦çª—æˆ·ï¼‰
            const rightWallGeometry = new THREE.PlaneGeometry(roomDepth, roomHeight);
            const rightWall = new THREE.Mesh(rightWallGeometry, wallMaterial);
            rightWall.position.set(roomWidth/2, roomHeight/2, 0);
            rightWall.rotation.y = -Math.PI / 2;
            roomGroup.add(rightWall);
            
            // çª—æˆ·
            const windowGeometry = new THREE.PlaneGeometry(2, 1.5);
            const windowMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x87ceeb,
                transparent: true,
                opacity: 0.8
            });
            const windowFrame = new THREE.Mesh(windowGeometry, windowMaterial);
            windowFrame.position.set(roomWidth/2 + 0.01, roomHeight/2, 0);
            windowFrame.rotation.y = -Math.PI / 2;
            roomGroup.add(windowFrame);
            
            room = roomGroup;
            scene.add(room);
        }
        
        // åˆ›å»ºå®¶å…·
        function createFurniture() {
            // åºŠ
            const bedGeometry = new THREE.BoxGeometry(2.5, 0.3, 1.8);
            const bedMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            bed = new THREE.Mesh(bedGeometry, bedMaterial);
            bed.position.set(-2, 0.15, -1.5);
            bed.castShadow = true;
            bed.receiveShadow = true;
            scene.add(bed);
            
            // åºŠå«
            const mattressGeometry = new THREE.BoxGeometry(2.4, 0.1, 1.7);
            const mattressMaterial = new THREE.MeshLambertMaterial({ color: 0x4169e1 });
            const mattress = new THREE.Mesh(mattressGeometry, mattressMaterial);
            mattress.position.set(-2, 0.35, -1.5);
            mattress.castShadow = true;
            mattress.receiveShadow = true;
            scene.add(mattress);
            
            // æ•å¤´
            const pillowGeometry = new THREE.BoxGeometry(0.6, 0.1, 0.4);
            const pillowMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            const pillow = new THREE.Mesh(pillowGeometry, pillowMaterial);
            pillow.position.set(-2.5, 0.45, -1.5);
            pillow.castShadow = true;
            scene.add(pillow);
            
            // ä¹¦æ¡Œ
            const deskGeometry = new THREE.BoxGeometry(2, 0.05, 1);
            const deskMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            desk = new THREE.Mesh(deskGeometry, deskMaterial);
            desk.position.set(2, 0.75, -1.5);
            desk.castShadow = true;
            desk.receiveShadow = true;
            scene.add(desk);
            
            // ä¹¦æ¡Œè…¿
            const legGeometry = new THREE.BoxGeometry(0.05, 0.75, 0.05);
            const legMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            for (let i = 0; i < 4; i++) {
                const leg = new THREE.Mesh(legGeometry, legMaterial);
                const x = (i % 2 === 0) ? 1.9 : 2.1;
                const z = (i < 2) ? -1.95 : -1.05;
                leg.position.set(x, 0.375, z);
                leg.castShadow = true;
                scene.add(leg);
            }
            
            // æ¤…å­
            const chairSeatGeometry = new THREE.BoxGeometry(0.5, 0.05, 0.5);
            const chairMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const chairSeat = new THREE.Mesh(chairSeatGeometry, chairMaterial);
            chairSeat.position.set(2, 0.5, -0.5);
            chairSeat.castShadow = true;
            chairSeat.receiveShadow = true;
            scene.add(chairSeat);
            
            // æ¤…å­é èƒŒ
            const chairBackGeometry = new THREE.BoxGeometry(0.5, 0.8, 0.05);
            const chairBack = new THREE.Mesh(chairBackGeometry, chairMaterial);
            chairBack.position.set(2, 0.9, -0.25);
            chairBack.castShadow = true;
            scene.add(chairBack);
            
            // è¡£æŸœ
            const wardrobeGeometry = new THREE.BoxGeometry(1.5, 2.5, 0.6);
            const wardrobeMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            wardrobe = new THREE.Mesh(wardrobeGeometry, wardrobeMaterial);
            wardrobe.position.set(-3, 1.25, 1.5);
            wardrobe.castShadow = true;
            wardrobe.receiveShadow = true;
            scene.add(wardrobe);
            
            // ä¹¦æ¶
            const bookshelfGeometry = new THREE.BoxGeometry(1.2, 2, 0.4);
            const bookshelfMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            bookshelf = new THREE.Mesh(bookshelfGeometry, bookshelfMaterial);
            bookshelf.position.set(3, 1, 1.5);
            bookshelf.castShadow = true;
            bookshelf.receiveShadow = true;
            scene.add(bookshelf);
            
            // ä¹¦æ¶éš”æ¿
            const shelfGeometry = new THREE.BoxGeometry(1.2, 0.05, 0.4);
            for (let i = 1; i <= 3; i++) {
                const shelf = new THREE.Mesh(shelfGeometry, bookshelfMaterial);
                shelf.position.set(3, 0.5 * i, 1.5);
                shelf.castShadow = true;
                scene.add(shelf);
            }
        }
        
        // åˆ›å»ºå…‰ç…§
        function createLighting() {
            // ç¯å¢ƒå…‰
            const ambientLight = new THREE.AmbientLight(0x404040, 0.4);
            scene.add(ambientLight);
            
            // ä¸»å…‰æºï¼ˆæ¨¡æ‹Ÿçª—æˆ·è¿›æ¥çš„å…‰ï¼‰
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(5, 5, 5);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            directionalLight.shadow.camera.near = 0.5;
            directionalLight.shadow.camera.far = 50;
            directionalLight.shadow.camera.left = -10;
            directionalLight.shadow.camera.right = 10;
            directionalLight.shadow.camera.top = 10;
            directionalLight.shadow.camera.bottom = -10;
            scene.add(directionalLight);
            
            // å°ç¯
            const lampGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.3);
            const lampMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            lamp = new THREE.Mesh(lampGeometry, lampMaterial);
            lamp.position.set(2.5, 1.2, -1.5);
            lamp.castShadow = true;
            scene.add(lamp);
            
            // å°ç¯å…‰æº
            const lampLight = new THREE.PointLight(0xffd700, 0.5, 3);
            lampLight.position.set(2.5, 1.1, -1.5);
            scene.add(lampLight);
        }
        
        // åˆ›å»ºè£…é¥°å“
        function createDecorations() {
            // ç”µè„‘æ˜¾ç¤ºå™¨
            const monitorGeometry = new THREE.BoxGeometry(0.8, 0.6, 0.1);
            const monitorMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            const monitor = new THREE.Mesh(monitorGeometry, monitorMaterial);
            monitor.position.set(2, 1.1, -1.5);
            monitor.castShadow = true;
            scene.add(monitor);
            
            // æ˜¾ç¤ºå™¨æ”¯æ¶
            const standGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.3);
            const standMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            const stand = new THREE.Mesh(standGeometry, standMaterial);
            stand.position.set(2, 0.95, -1.5);
            stand.castShadow = true;
            scene.add(stand);
            
            // é”®ç›˜
            const keyboardGeometry = new THREE.BoxGeometry(0.6, 0.02, 0.2);
            const keyboardMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const keyboard = new THREE.Mesh(keyboardGeometry, keyboardMaterial);
            keyboard.position.set(2, 0.78, -1.3);
            keyboard.castShadow = true;
            scene.add(keyboard);
            
            // é¼ æ ‡
            const mouseGeometry = new THREE.BoxGeometry(0.1, 0.02, 0.15);
            const mouseMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const mouse = new THREE.Mesh(mouseGeometry, mouseMaterial);
            mouse.position.set(2.3, 0.78, -1.3);
            mouse.castShadow = true;
            scene.add(mouse);
            
            // ä¹¦æœ¬
            for (let i = 0; i < 5; i++) {
                const bookGeometry = new THREE.BoxGeometry(0.15, 0.02, 0.2);
                const bookMaterial = new THREE.MeshLambertMaterial({ 
                    color: new THREE.Color().setHSL(Math.random(), 0.5, 0.5) 
                });
                const book = new THREE.Mesh(bookGeometry, bookMaterial);
                book.position.set(3, 0.3 + i * 0.4, 1.5);
                book.castShadow = true;
                scene.add(book);
            }
            
            // é—¹é’Ÿ
            const clockGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.05);
            const clockMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            const clock = new THREE.Mesh(clockGeometry, clockMaterial);
            clock.position.set(2.5, 1.05, -1.4);
            clock.castShadow = true;
            scene.add(clock);
            
            // æ—¶é’ŸæŒ‡é’ˆ
            const hourHandGeometry = new THREE.BoxGeometry(0.05, 0.01, 0.01);
            const minuteHandGeometry = new THREE.BoxGeometry(0.07, 0.01, 0.01);
            const handMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            
            const hourHand = new THREE.Mesh(hourHandGeometry, handMaterial);
            hourHand.position.set(2.5, 1.075, -1.4);
            scene.add(hourHand);
            
            const minuteHand = new THREE.Mesh(minuteHandGeometry, handMaterial);
            minuteHand.position.set(2.5, 1.075, -1.4);
            minuteHand.rotation.z = Math.PI / 2;
            scene.add(minuteHand);
            
            // éŸ©å›½é£æ ¼è£…é¥°å“
            // å°ç›†æ ½
            const potGeometry = new THREE.CylinderGeometry(0.08, 0.06, 0.15);
            const potMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const pot = new THREE.Mesh(potGeometry, potMaterial);
            pot.position.set(2.8, 0.075, -1.4);
            pot.castShadow = true;
            scene.add(pot);
            
            // æ¤ç‰©
            const plantGeometry = new THREE.SphereGeometry(0.1, 8, 8);
            const plantMaterial = new THREE.MeshLambertMaterial({ color: 0x228b22 });
            const plant = new THREE.Mesh(plantGeometry, plantMaterial);
            plant.position.set(2.8, 0.2, -1.4);
            plant.castShadow = true;
            scene.add(plant);
            
            // ç›¸æ¡†
            const frameGeometry = new THREE.BoxGeometry(0.3, 0.4, 0.02);
            const frameMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const frame = new THREE.Mesh(frameGeometry, frameMaterial);
            frame.position.set(-2.5, 1.8, -1.5);
            frame.castShadow = true;
            scene.add(frame);
            
            // ç…§ç‰‡
            const photoGeometry = new THREE.PlaneGeometry(0.25, 0.35);
            const photoMaterial = new THREE.MeshLambertMaterial({ color: 0x87ceeb });
            const photo = new THREE.Mesh(photoGeometry, photoMaterial);
            photo.position.set(-2.5, 1.8, -1.49);
            scene.add(photo);
            
            // å°åœ°æ¯¯
            const carpetGeometry = new THREE.PlaneGeometry(1.5, 1);
            const carpetMaterial = new THREE.MeshLambertMaterial({ color: 0xdaa520 });
            const carpet = new THREE.Mesh(carpetGeometry, carpetMaterial);
            carpet.position.set(0, 0.01, 0);
            carpet.rotation.x = -Math.PI / 2;
            carpet.receiveShadow = true;
            scene.add(carpet);
            
            // æ‰‹æœº
            const phoneGeometry = new THREE.BoxGeometry(0.08, 0.02, 0.15);
            const phoneMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            const phone = new THREE.Mesh(phoneGeometry, phoneMaterial);
            phone.position.set(-1.8, 0.45, -1.5);
            phone.castShadow = true;
            scene.add(phone);
            
            // å……ç”µå™¨
            const chargerGeometry = new THREE.BoxGeometry(0.05, 0.02, 0.05);
            const chargerMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const charger = new THREE.Mesh(chargerGeometry, chargerMaterial);
            charger.position.set(-1.7, 0.46, -1.5);
            charger.castShadow = true;
            scene.add(charger);
            
            // æ°´æ¯
            const cupGeometry = new THREE.CylinderGeometry(0.04, 0.04, 0.12);
            const cupMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            const cup = new THREE.Mesh(cupGeometry, cupMaterial);
            cup.position.set(2.2, 0.81, -1.3);
            cup.castShadow = true;
            scene.add(cup);
            
            // ç¬”ç­’
            const penHolderGeometry = new THREE.CylinderGeometry(0.03, 0.03, 0.08);
            const penHolderMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const penHolder = new THREE.Mesh(penHolderGeometry, penHolderMaterial);
            penHolder.position.set(1.7, 0.81, -1.3);
            penHolder.castShadow = true;
            scene.add(penHolder);
            
            // ç¬”
            for (let i = 0; i < 3; i++) {
                const penGeometry = new THREE.CylinderGeometry(0.005, 0.005, 0.06);
                const penMaterial = new THREE.MeshLambertMaterial({ 
                    color: new THREE.Color().setHSL(Math.random(), 0.8, 0.5) 
                });
                const pen = new THREE.Mesh(penGeometry, penMaterial);
                pen.position.set(1.7, 0.85 + i * 0.02, -1.3);
                pen.rotation.z = Math.random() * 0.2 - 0.1;
                pen.castShadow = true;
                scene.add(pen);
            }
        }
        
        // åŠ¨ç”»å¾ªç¯
        function animate() {
            requestAnimationFrame(animate);
            
            // æ›´æ–°æ§åˆ¶å™¨
            if (controls) {
                controls.update();
            }
            
            // è®©å°ç¯è½»å¾®æ‘†åŠ¨
            if (lamp) {
                lamp.rotation.z = Math.sin(Date.now() * 0.001) * 0.05;
            }
            
            // è®©æ—¶é’ŸæŒ‡é’ˆè½¬åŠ¨
            const time = Date.now() * 0.0001;
            const hourHand = scene.children.find(child => child.geometry && child.geometry.type === 'BoxGeometry' && child.position.x === 2.5 && child.position.y === 1.075);
            const minuteHand = scene.children.find(child => child.geometry && child.geometry.type === 'BoxGeometry' && child.position.x === 2.5 && child.position.y === 1.075 && child.rotation.z === Math.PI / 2);
            
            if (hourHand) {
                hourHand.rotation.y = Math.sin(time) * 0.5;
            }
            if (minuteHand) {
                minuteHand.rotation.y = Math.cos(time) * 0.8;
            }
            
            // è®©æ¤ç‰©è½»å¾®æ‘†åŠ¨
            const plant = scene.children.find(child => child.geometry && child.geometry.type === 'SphereGeometry' && child.position.x === 2.8);
            if (plant) {
                plant.rotation.y = Math.sin(Date.now() * 0.002) * 0.1;
            }
            
            // è®©æ‰‹æœºå±å¹•é—ªçƒï¼ˆæ¨¡æ‹Ÿé€šçŸ¥ï¼‰
            const phone = scene.children.find(child => child.geometry && child.geometry.type === 'BoxGeometry' && child.position.x === -1.8 && child.position.y === 0.45);
            if (phone && Math.random() > 0.95) {
                phone.material.color.setHex(0x00ff00);
                setTimeout(() => {
                    if (phone.material) {
                        phone.material.color.setHex(0x000000);
                    }
                }, 100);
            }
            
            renderer.render(scene, camera);
        }
        
        // çª—å£å¤§å°è°ƒæ•´
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        // äº‹ä»¶ç›‘å¬
        window.addEventListener('resize', onWindowResize, false);
        
        // æ·»åŠ é”®ç›˜æ§åˆ¶
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space') {
                event.preventDefault();
                if (controls) {
                    controls.autoRotate = !controls.autoRotate;
                }
            }
        });
        
        // ä¸»å‡½æ•°ï¼šåŠ è½½åº“å¹¶åˆå§‹åŒ–åœºæ™¯
        async function main() {
            try {
                await loadThreeJS();
                await loadOrbitControls();
                init();
            } catch (error) {
                console.error('åŠ è½½å¤±è´¥:', error);
                document.getElementById('loading').innerHTML = 'âŒ åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥';
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹
        window.addEventListener('load', main);
    </script>
</body>
</html> 