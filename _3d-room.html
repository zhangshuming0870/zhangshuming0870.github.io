---
layout: default
title: 3D房间 - 韩国短剧《闹钟》风格
---

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            text-align: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 300;
        }
        
        .controls-info {
            position: fixed;
            top: 80px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            font-size: 14px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .controls-info h3 {
            margin: 0 0 10px 0;
            color: #ffd700;
        }
        
        .controls-info ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .controls-info li {
            margin: 5px 0;
        }
        
        .room-info {
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            font-size: 14px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 300px;
        }
        
        .room-info h3 {
            margin: 0 0 10px 0;
            color: #ffd700;
        }
        
        .room-info p {
            margin: 8px 0;
            line-height: 1.4;
        }
        
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .footer {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            z-index: 1000;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }
        
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            z-index: 1000;
            text-decoration: none;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-2px);
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .controls-info, .room-info {
                font-size: 12px;
                padding: 10px;
            }
            
            .header h1 {
                font-size: 20px;
            }
        }
    </style>
</head>

<body>
    <a href="/" class="back-link">← 返回首页</a>
    
    <div class="header">
        <h1>🏠 韩国短剧《闹钟》风格房间 - 3D展示</h1>
    </div>

    <div class="controls-info">
        <h3>🎮 控制说明</h3>
        <ul>
            <li>🖱️ 鼠标左键：旋转视角</li>
            <li>🔍 鼠标滚轮：缩放</li>
            <li>📱 鼠标右键：平移</li>
            <li>🔄 自动旋转：按空格键</li>
        </ul>
    </div>

    <div class="room-info">
        <h3>🏠 房间特色</h3>
        <p>✨ 温馨的小房间布局</p>
        <p>🛏️ 舒适的床铺和枕头</p>
        <p>💻 学习工作区域</p>
        <p>📚 书架和装饰品</p>
        <p>🌱 绿色植物点缀</p>
        <p>⏰ 动态闹钟显示</p>
        <p>📱 手机通知闪烁</p>
        <p>💡 温暖的台灯光照</p>
    </div>

    <div class="loading" id="loading">
        🚀 正在加载3D房间...
    </div>

    <div class="footer">
        <p>🎬 灵感来源：韩国短剧《闹钟》 | 技术：Three.js 3D渲染</p>
    </div>

    <script>
        // 动态加载Three.js库
        function loadThreeJS() {
            return new Promise((resolve, reject) => {
                // 检查是否已经加载
                if (typeof THREE !== 'undefined') {
                    resolve();
                    return;
                }
                
                console.log('正在动态加载Three.js库...');
                
                // 创建script标签加载Three.js
                const threeScript = document.createElement('script');
                threeScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.178.0/three.min.js';
                
                threeScript.onload = function() {
                    console.log('Three.js加载成功');
                    resolve();
                };
                
                threeScript.onerror = function() {
                    console.error('Three.js加载失败，尝试备用CDN');
                    // 尝试备用CDN
                    const backupScript = document.createElement('script');
                    backupScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.178.0/three.min.js';
                    
                    backupScript.onload = function() {
                        console.log('备用CDN加载成功');
                        resolve();
                    };
                    
                    backupScript.onerror = function() {
                        reject(new Error('所有CDN都加载失败'));
                    };
                    
                    document.head.appendChild(backupScript);
                };
                
                document.head.appendChild(threeScript);
            });
        }
        
        // 动态加载OrbitControls
        function loadOrbitControls() {
            return new Promise((resolve, reject) => {
                if (typeof THREE.OrbitControls !== 'undefined') {
                    resolve();
                    return;
                }
                
                const orbitScript = document.createElement('script');
                orbitScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/0.178.0/OrbitControls.js';
                
                orbitScript.onload = function() {
                    console.log('OrbitControls加载成功');
                    resolve();
                };
                
                orbitScript.onerror = function() {
                    console.warn('OrbitControls加载失败，将使用基础控制');
                    resolve(); // 不阻止继续
                };
                
                document.head.appendChild(orbitScript);
            });
        }
        
        // 3D房间场景代码
        let scene, camera, renderer, controls;
        let room, bed, desk, wardrobe, windowFrame, chair, lamp, bookshelf;
        
        // 初始化场景
        function init() {
            // 创建场景
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xf0f0f0);
            
            // 创建相机
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(5, 3, 5);
            
            // 创建渲染器
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.body.appendChild(renderer.domElement);
            
            // 添加轨道控制器
            if (typeof THREE.OrbitControls !== 'undefined') {
                controls = new THREE.OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.dampingFactor = 0.05;
                controls.autoRotate = false;
                controls.autoRotateSpeed = 1.0;
            } else {
                console.warn('OrbitControls 未加载，将使用基础相机控制');
            }
            
            // 创建房间
            createRoom();
            
            // 创建家具
            createFurniture();
            
            // 创建光照
            createLighting();
            
            // 添加装饰品
            createDecorations();
            
            // 开始动画循环
            animate();
            
            // 隐藏加载提示
            const loading = document.getElementById('loading');
            if (loading) {
                loading.style.opacity = '0';
                loading.style.transition = 'opacity 0.5s';
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 500);
            }
        }
        
        // 创建房间结构
        function createRoom() {
            const roomGroup = new THREE.Group();
            
            // 房间尺寸
            const roomWidth = 8;
            const roomHeight = 3;
            const roomDepth = 6;
            
            // 材质
            const wallMaterial = new THREE.MeshLambertMaterial({ color: 0xf5f5f5 });
            const floorMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const ceilingMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            
            // 地板
            const floorGeometry = new THREE.PlaneGeometry(roomWidth, roomDepth);
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            roomGroup.add(floor);
            
            // 天花板
            const ceilingGeometry = new THREE.PlaneGeometry(roomWidth, roomDepth);
            const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);
            ceiling.position.y = roomHeight;
            ceiling.rotation.x = Math.PI / 2;
            roomGroup.add(ceiling);
            
            // 墙壁
            const wallGeometry = new THREE.PlaneGeometry(roomWidth, roomHeight);
            
            // 后墙
            const backWall = new THREE.Mesh(wallGeometry, wallMaterial);
            backWall.position.set(0, roomHeight/2, -roomDepth/2);
            roomGroup.add(backWall);
            
            // 左墙
            const leftWallGeometry = new THREE.PlaneGeometry(roomDepth, roomHeight);
            const leftWall = new THREE.Mesh(leftWallGeometry, wallMaterial);
            leftWall.position.set(-roomWidth/2, roomHeight/2, 0);
            leftWall.rotation.y = Math.PI / 2;
            roomGroup.add(leftWall);
            
            // 右墙（带窗户）
            const rightWallGeometry = new THREE.PlaneGeometry(roomDepth, roomHeight);
            const rightWall = new THREE.Mesh(rightWallGeometry, wallMaterial);
            rightWall.position.set(roomWidth/2, roomHeight/2, 0);
            rightWall.rotation.y = -Math.PI / 2;
            roomGroup.add(rightWall);
            
            // 窗户
            const windowGeometry = new THREE.PlaneGeometry(2, 1.5);
            const windowMaterial = new THREE.MeshLambertMaterial({ 
                color: 0x87ceeb,
                transparent: true,
                opacity: 0.8
            });
            const windowFrame = new THREE.Mesh(windowGeometry, windowMaterial);
            windowFrame.position.set(roomWidth/2 + 0.01, roomHeight/2, 0);
            windowFrame.rotation.y = -Math.PI / 2;
            roomGroup.add(windowFrame);
            
            room = roomGroup;
            scene.add(room);
        }
        
        // 创建家具
        function createFurniture() {
            // 床
            const bedGeometry = new THREE.BoxGeometry(2.5, 0.3, 1.8);
            const bedMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            bed = new THREE.Mesh(bedGeometry, bedMaterial);
            bed.position.set(-2, 0.15, -1.5);
            bed.castShadow = true;
            bed.receiveShadow = true;
            scene.add(bed);
            
            // 床垫
            const mattressGeometry = new THREE.BoxGeometry(2.4, 0.1, 1.7);
            const mattressMaterial = new THREE.MeshLambertMaterial({ color: 0x4169e1 });
            const mattress = new THREE.Mesh(mattressGeometry, mattressMaterial);
            mattress.position.set(-2, 0.35, -1.5);
            mattress.castShadow = true;
            mattress.receiveShadow = true;
            scene.add(mattress);
            
            // 枕头
            const pillowGeometry = new THREE.BoxGeometry(0.6, 0.1, 0.4);
            const pillowMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            const pillow = new THREE.Mesh(pillowGeometry, pillowMaterial);
            pillow.position.set(-2.5, 0.45, -1.5);
            pillow.castShadow = true;
            scene.add(pillow);
            
            // 书桌
            const deskGeometry = new THREE.BoxGeometry(2, 0.05, 1);
            const deskMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            desk = new THREE.Mesh(deskGeometry, deskMaterial);
            desk.position.set(2, 0.75, -1.5);
            desk.castShadow = true;
            desk.receiveShadow = true;
            scene.add(desk);
            
            // 书桌腿
            const legGeometry = new THREE.BoxGeometry(0.05, 0.75, 0.05);
            const legMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            for (let i = 0; i < 4; i++) {
                const leg = new THREE.Mesh(legGeometry, legMaterial);
                const x = (i % 2 === 0) ? 1.9 : 2.1;
                const z = (i < 2) ? -1.95 : -1.05;
                leg.position.set(x, 0.375, z);
                leg.castShadow = true;
                scene.add(leg);
            }
            
            // 椅子
            const chairSeatGeometry = new THREE.BoxGeometry(0.5, 0.05, 0.5);
            const chairMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const chairSeat = new THREE.Mesh(chairSeatGeometry, chairMaterial);
            chairSeat.position.set(2, 0.5, -0.5);
            chairSeat.castShadow = true;
            chairSeat.receiveShadow = true;
            scene.add(chairSeat);
            
            // 椅子靠背
            const chairBackGeometry = new THREE.BoxGeometry(0.5, 0.8, 0.05);
            const chairBack = new THREE.Mesh(chairBackGeometry, chairMaterial);
            chairBack.position.set(2, 0.9, -0.25);
            chairBack.castShadow = true;
            scene.add(chairBack);
            
            // 衣柜
            const wardrobeGeometry = new THREE.BoxGeometry(1.5, 2.5, 0.6);
            const wardrobeMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            wardrobe = new THREE.Mesh(wardrobeGeometry, wardrobeMaterial);
            wardrobe.position.set(-3, 1.25, 1.5);
            wardrobe.castShadow = true;
            wardrobe.receiveShadow = true;
            scene.add(wardrobe);
            
            // 书架
            const bookshelfGeometry = new THREE.BoxGeometry(1.2, 2, 0.4);
            const bookshelfMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            bookshelf = new THREE.Mesh(bookshelfGeometry, bookshelfMaterial);
            bookshelf.position.set(3, 1, 1.5);
            bookshelf.castShadow = true;
            bookshelf.receiveShadow = true;
            scene.add(bookshelf);
            
            // 书架隔板
            const shelfGeometry = new THREE.BoxGeometry(1.2, 0.05, 0.4);
            for (let i = 1; i <= 3; i++) {
                const shelf = new THREE.Mesh(shelfGeometry, bookshelfMaterial);
                shelf.position.set(3, 0.5 * i, 1.5);
                shelf.castShadow = true;
                scene.add(shelf);
            }
        }
        
        // 创建光照
        function createLighting() {
            // 环境光
            const ambientLight = new THREE.AmbientLight(0x404040, 0.4);
            scene.add(ambientLight);
            
            // 主光源（模拟窗户进来的光）
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(5, 5, 5);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            directionalLight.shadow.camera.near = 0.5;
            directionalLight.shadow.camera.far = 50;
            directionalLight.shadow.camera.left = -10;
            directionalLight.shadow.camera.right = 10;
            directionalLight.shadow.camera.top = 10;
            directionalLight.shadow.camera.bottom = -10;
            scene.add(directionalLight);
            
            // 台灯
            const lampGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.3);
            const lampMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            lamp = new THREE.Mesh(lampGeometry, lampMaterial);
            lamp.position.set(2.5, 1.2, -1.5);
            lamp.castShadow = true;
            scene.add(lamp);
            
            // 台灯光源
            const lampLight = new THREE.PointLight(0xffd700, 0.5, 3);
            lampLight.position.set(2.5, 1.1, -1.5);
            scene.add(lampLight);
        }
        
        // 创建装饰品
        function createDecorations() {
            // 电脑显示器
            const monitorGeometry = new THREE.BoxGeometry(0.8, 0.6, 0.1);
            const monitorMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            const monitor = new THREE.Mesh(monitorGeometry, monitorMaterial);
            monitor.position.set(2, 1.1, -1.5);
            monitor.castShadow = true;
            scene.add(monitor);
            
            // 显示器支架
            const standGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.3);
            const standMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            const stand = new THREE.Mesh(standGeometry, standMaterial);
            stand.position.set(2, 0.95, -1.5);
            stand.castShadow = true;
            scene.add(stand);
            
            // 键盘
            const keyboardGeometry = new THREE.BoxGeometry(0.6, 0.02, 0.2);
            const keyboardMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const keyboard = new THREE.Mesh(keyboardGeometry, keyboardMaterial);
            keyboard.position.set(2, 0.78, -1.3);
            keyboard.castShadow = true;
            scene.add(keyboard);
            
            // 鼠标
            const mouseGeometry = new THREE.BoxGeometry(0.1, 0.02, 0.15);
            const mouseMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const mouse = new THREE.Mesh(mouseGeometry, mouseMaterial);
            mouse.position.set(2.3, 0.78, -1.3);
            mouse.castShadow = true;
            scene.add(mouse);
            
            // 书本
            for (let i = 0; i < 5; i++) {
                const bookGeometry = new THREE.BoxGeometry(0.15, 0.02, 0.2);
                const bookMaterial = new THREE.MeshLambertMaterial({ 
                    color: new THREE.Color().setHSL(Math.random(), 0.5, 0.5) 
                });
                const book = new THREE.Mesh(bookGeometry, bookMaterial);
                book.position.set(3, 0.3 + i * 0.4, 1.5);
                book.castShadow = true;
                scene.add(book);
            }
            
            // 闹钟
            const clockGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.05);
            const clockMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            const clock = new THREE.Mesh(clockGeometry, clockMaterial);
            clock.position.set(2.5, 1.05, -1.4);
            clock.castShadow = true;
            scene.add(clock);
            
            // 时钟指针
            const hourHandGeometry = new THREE.BoxGeometry(0.05, 0.01, 0.01);
            const minuteHandGeometry = new THREE.BoxGeometry(0.07, 0.01, 0.01);
            const handMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            
            const hourHand = new THREE.Mesh(hourHandGeometry, handMaterial);
            hourHand.position.set(2.5, 1.075, -1.4);
            scene.add(hourHand);
            
            const minuteHand = new THREE.Mesh(minuteHandGeometry, handMaterial);
            minuteHand.position.set(2.5, 1.075, -1.4);
            minuteHand.rotation.z = Math.PI / 2;
            scene.add(minuteHand);
            
            // 韩国风格装饰品
            // 小盆栽
            const potGeometry = new THREE.CylinderGeometry(0.08, 0.06, 0.15);
            const potMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const pot = new THREE.Mesh(potGeometry, potMaterial);
            pot.position.set(2.8, 0.075, -1.4);
            pot.castShadow = true;
            scene.add(pot);
            
            // 植物
            const plantGeometry = new THREE.SphereGeometry(0.1, 8, 8);
            const plantMaterial = new THREE.MeshLambertMaterial({ color: 0x228b22 });
            const plant = new THREE.Mesh(plantGeometry, plantMaterial);
            plant.position.set(2.8, 0.2, -1.4);
            plant.castShadow = true;
            scene.add(plant);
            
            // 相框
            const frameGeometry = new THREE.BoxGeometry(0.3, 0.4, 0.02);
            const frameMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const frame = new THREE.Mesh(frameGeometry, frameMaterial);
            frame.position.set(-2.5, 1.8, -1.5);
            frame.castShadow = true;
            scene.add(frame);
            
            // 照片
            const photoGeometry = new THREE.PlaneGeometry(0.25, 0.35);
            const photoMaterial = new THREE.MeshLambertMaterial({ color: 0x87ceeb });
            const photo = new THREE.Mesh(photoGeometry, photoMaterial);
            photo.position.set(-2.5, 1.8, -1.49);
            scene.add(photo);
            
            // 小地毯
            const carpetGeometry = new THREE.PlaneGeometry(1.5, 1);
            const carpetMaterial = new THREE.MeshLambertMaterial({ color: 0xdaa520 });
            const carpet = new THREE.Mesh(carpetGeometry, carpetMaterial);
            carpet.position.set(0, 0.01, 0);
            carpet.rotation.x = -Math.PI / 2;
            carpet.receiveShadow = true;
            scene.add(carpet);
            
            // 手机
            const phoneGeometry = new THREE.BoxGeometry(0.08, 0.02, 0.15);
            const phoneMaterial = new THREE.MeshLambertMaterial({ color: 0x000000 });
            const phone = new THREE.Mesh(phoneGeometry, phoneMaterial);
            phone.position.set(-1.8, 0.45, -1.5);
            phone.castShadow = true;
            scene.add(phone);
            
            // 充电器
            const chargerGeometry = new THREE.BoxGeometry(0.05, 0.02, 0.05);
            const chargerMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const charger = new THREE.Mesh(chargerGeometry, chargerMaterial);
            charger.position.set(-1.7, 0.46, -1.5);
            charger.castShadow = true;
            scene.add(charger);
            
            // 水杯
            const cupGeometry = new THREE.CylinderGeometry(0.04, 0.04, 0.12);
            const cupMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff });
            const cup = new THREE.Mesh(cupGeometry, cupMaterial);
            cup.position.set(2.2, 0.81, -1.3);
            cup.castShadow = true;
            scene.add(cup);
            
            // 笔筒
            const penHolderGeometry = new THREE.CylinderGeometry(0.03, 0.03, 0.08);
            const penHolderMaterial = new THREE.MeshLambertMaterial({ color: 0x8b4513 });
            const penHolder = new THREE.Mesh(penHolderGeometry, penHolderMaterial);
            penHolder.position.set(1.7, 0.81, -1.3);
            penHolder.castShadow = true;
            scene.add(penHolder);
            
            // 笔
            for (let i = 0; i < 3; i++) {
                const penGeometry = new THREE.CylinderGeometry(0.005, 0.005, 0.06);
                const penMaterial = new THREE.MeshLambertMaterial({ 
                    color: new THREE.Color().setHSL(Math.random(), 0.8, 0.5) 
                });
                const pen = new THREE.Mesh(penGeometry, penMaterial);
                pen.position.set(1.7, 0.85 + i * 0.02, -1.3);
                pen.rotation.z = Math.random() * 0.2 - 0.1;
                pen.castShadow = true;
                scene.add(pen);
            }
        }
        
        // 动画循环
        function animate() {
            requestAnimationFrame(animate);
            
            // 更新控制器
            if (controls) {
                controls.update();
            }
            
            // 让台灯轻微摆动
            if (lamp) {
                lamp.rotation.z = Math.sin(Date.now() * 0.001) * 0.05;
            }
            
            // 让时钟指针转动
            const time = Date.now() * 0.0001;
            const hourHand = scene.children.find(child => child.geometry && child.geometry.type === 'BoxGeometry' && child.position.x === 2.5 && child.position.y === 1.075);
            const minuteHand = scene.children.find(child => child.geometry && child.geometry.type === 'BoxGeometry' && child.position.x === 2.5 && child.position.y === 1.075 && child.rotation.z === Math.PI / 2);
            
            if (hourHand) {
                hourHand.rotation.y = Math.sin(time) * 0.5;
            }
            if (minuteHand) {
                minuteHand.rotation.y = Math.cos(time) * 0.8;
            }
            
            // 让植物轻微摆动
            const plant = scene.children.find(child => child.geometry && child.geometry.type === 'SphereGeometry' && child.position.x === 2.8);
            if (plant) {
                plant.rotation.y = Math.sin(Date.now() * 0.002) * 0.1;
            }
            
            // 让手机屏幕闪烁（模拟通知）
            const phone = scene.children.find(child => child.geometry && child.geometry.type === 'BoxGeometry' && child.position.x === -1.8 && child.position.y === 0.45);
            if (phone && Math.random() > 0.95) {
                phone.material.color.setHex(0x00ff00);
                setTimeout(() => {
                    if (phone.material) {
                        phone.material.color.setHex(0x000000);
                    }
                }, 100);
            }
            
            renderer.render(scene, camera);
        }
        
        // 窗口大小调整
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        // 事件监听
        window.addEventListener('resize', onWindowResize, false);
        
        // 添加键盘控制
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space') {
                event.preventDefault();
                if (controls) {
                    controls.autoRotate = !controls.autoRotate;
                }
            }
        });
        
        // 主函数：加载库并初始化场景
        async function main() {
            try {
                await loadThreeJS();
                await loadOrbitControls();
                init();
            } catch (error) {
                console.error('加载失败:', error);
                document.getElementById('loading').innerHTML = '❌ 加载失败，请检查网络连接';
            }
        }
        
        // 页面加载完成后开始
        window.addEventListener('load', main);
    </script>
</body>
</html> 